(this.webpackJsonpnear_city=this.webpackJsonpnear_city||[]).push([[0],{132:function(e,t,a){e.exports=a(164)},139:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(32),c=a.n(l),o=a(6),r=a.n(o),s=a(2),u=a(47),m=a.n(u),h=a(46),f=a.n(h),g=(a(137),a(7)),y=a.n(g),d=a(8),E=a.n(d),b=a(3),p=a.n(b),w=a(39),j=a.n(w),v=a(40),O=a.n(v),C=a(41),M=a.n(C),N=a(42),S=a.n(N),k=(a(139),function(e){return i.a.createElement(y.a,{id:e.id},i.a.createElement(E.a,null,"Home"),i.a.createElement("div",{className:"stage",style:{width:"100%",height:"100%",position:"fixed",display:"flex",justifyContent:"center"}},i.a.createElement("div",{className:"sun"}),i.a.createElement("div",{className:"grass"}),i.a.createElement("h1",{style:{color:"white",fontSize:45,fontFamily:"Neucha"}},"Town"),i.a.createElement(p.a,{className:"startButton",before:i.a.createElement(j.a,{style:{color:"white"}}),mode:"outline",size:"xl",onClick:function(){return e.goToPage("Play"),void e.startGame()}},i.a.createElement("p",{style:{color:"white",fontSize:30,fontFamily:"Neucha"}},"\u0418\u0433\u0440\u0430\u0442\u044c!")),i.a.createElement(p.a,{className:"Settings",before:i.a.createElement(O.a,{width:40,height:40,style:{color:"white"}}),mode:"outline",size:"",onClick:function(){return e.goToPage("Settings")}}),i.a.createElement(p.a,{className:"Rating",before:i.a.createElement(M.a,{width:40,height:40,style:{color:"white"}}),mode:"outline",size:"",onClick:function(){return e.goToPage("Rating")}},i.a.createElement("p",{style:{color:"white",fontSize:30,fontFamily:"Neucha"}})),i.a.createElement(p.a,{className:"About",before:i.a.createElement(S.a,{width:40,height:40,style:{color:"white"}}),mode:"outline","data-to":"persik",size:"",onClick:function(){return e.goToPage("Info")}},i.a.createElement("p",{style:{color:"white",fontSize:30,fontFamily:"Neucha"}}))))}),x=a(13),z=a.n(x),F=a(44),P=a.n(F),A=a(45),I=a.n(A),T=a(43),_=a.n(T),R=function(e){var t=function(){e.userResponse()};return i.a.createElement(y.a,{id:e.id},i.a.createElement(E.a,{left:i.a.createElement(z.a,{onClick:function(){return window.history.back()}})},"Play"),i.a.createElement("div",{className:"stage",style:{width:"100%",height:"100%",position:"fixed",display:"flex",justifyContent:"center"}},i.a.createElement("h1",{style:{color:"white",fontSize:45,fontFamily:"Neucha",textAlign:"center"}},"\u041a\u0430\u043a\u043e\u0439 \u0433\u043e\u0440\u043e\u0434 ",i.a.createElement("br",null)," \u0431\u043b\u0438\u0436\u0435?"),i.a.createElement(_.a,{className:"iconPlace",width:50,height:50}),i.a.createElement("div",{className:"userCityName"},i.a.createElement("h1",{style:{color:"white",fontSize:30,fontFamily:"Neucha",textAlign:"center"}},"Moscow")),i.a.createElement(p.a,{onClick:function(){return t()},className:"cityButtonLeft",size:"l",mode:"outline",style:{color:"white",fontFamily:"Neucha",textAlign:"center"}},i.a.createElement("h1",null,e.leftCity,i.a.createElement("br",null),e.leftCityDictance)),i.a.createElement(p.a,{onClick:function(){return t()},className:"cityButtonRight",size:"l",mode:"outline",style:{color:"white",fontFamily:"Neucha",textAlign:"center"}},i.a.createElement("h1",null,e.rightCity,i.a.createElement("br",null),e.rightCityDictance)),i.a.createElement("h1",{className:"timer"},e.timer),i.a.createElement(P.a,{className:"progress"},i.a.createElement(I.a,{style:{background:"red"},value:e.count})),i.a.createElement(p.a,{onClick:function(){e.startGame()},className:"nextLevelButton",size:"l",mode:"outline",style:{color:"white",fontFamily:"Neucha",textAlign:"center"}},i.a.createElement("h1",null,"\u0414\u0430\u043b\u044c\u0448\u0435"))))},V=a(27),B=a.n(V),G=function(e){return i.a.createElement(y.a,{id:e.id},i.a.createElement(E.a,{left:i.a.createElement(z.a,{onClick:function(){return window.history.back()}})},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),i.a.createElement("div",{className:"stage",style:{width:"100%",height:"100%",position:"fixed",display:"flex",justifyContent:"center"}},i.a.createElement(B.a,null,i.a.createElement(p.a,{style:{color:"white",border:"1px solid white"},onClick:function(){return e.camelCase(e.scheme,!0)},size:"xl",mode:"outline"},"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0435\u043c\u0443 \u043d\u0430 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u0443\u044e"))))},W=function(e){return i.a.createElement(y.a,{id:e.id},i.a.createElement(E.a,{left:i.a.createElement(z.a,{onClick:function(){return window.history.back()}})},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"),i.a.createElement("div",{className:"stage",style:{width:"100%",height:"100%",position:"fixed",display:"flex",justifyContent:"center"}}))},K=function(e){return i.a.createElement(y.a,{id:e.id},i.a.createElement(E.a,{left:i.a.createElement(z.a,{onClick:function(){return window.history.back()}})},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),i.a.createElement("div",{className:"stage",style:{width:"100%",height:"100%",position:"fixed",display:"flex",justifyContent:"center"}}))},q=["bright_light","client_light"],D=function(){var e=Object(n.useState)("Home"),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(["Home"]),o=Object(s.a)(c,2),u=o[0];o[1];var h=function(){F(""),N(100),Z(),U(),1===u.length?r.a.send("VKWebAppClose",{status:"success"}):u.length>1&&(u.pop(),l(u[u.length-1]))};Object(n.useEffect)((function(){r.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;"VKWebAppUpdateConfig"===a&&b(n.scheme)})),window.addEventListener("popstate",(function(){return h()}))}),[]);var g=Object(n.useState)("bright_light"),y=Object(s.a)(g,2),d=y[0],E=y[1];function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=q.includes(e);t&&(a=!a),E(a?"bright_light":"space_gray"),r.a.send("VKWebAppSetViewSettings",{status_bar_style:a?"dark":"light",action_bar_color:a?"#ffffff":"#191919"})}var p=Object(n.useState)("false"),w=Object(s.a)(p,2),j=w[0],v=w[1],O=Object(n.useState)(100),C=Object(s.a)(O,2),M=C[0],N=C[1],S=Object(n.useState)(" "),x=Object(s.a)(S,2),z=x[0],F=x[1],P=Object(n.useState)("Tokio"),A=Object(s.a)(P,2),I=A[0],T=A[1],_=Object(n.useState)("New-York"),V=Object(s.a)(_,2),B=V[0],D=V[1],H=Object(n.useState)(""),L=Object(s.a)(H,2),J=L[0],U=L[1],Y=Object(n.useState)(""),Q=Object(s.a)(Y,2),X=Q[0],Z=Q[1],$=Object(n.useState)(""),ee=Object(s.a)($,2),te=ee[0],ae=(ee[1],Object(n.useState)("")),ne=Object(s.a)(ae,2),ie=ne[0],le=(ne[1],Object(n.useState)("")),ce=Object(s.a)(le,2),oe=(ce[0],ce[1]),re=Object(n.useState)(""),se=Object(s.a)(re,2),ue=(se[0],se[1]),me=[[["city","\u0423\u0444\u0430"],["lat",54.7431],["long",55.9678]],[["city","\u0428\u0430\u043d\u0445\u0430\u0439"],["lat",31.23042],["long",121.4737]],[["city","\u041c\u0435\u0445\u0438\u043a\u043e"],["lat",19.4285],["long",-99.1277]],[["city","\u0421\u0430\u043d-\u041f\u0430\u0443\u043b\u0443"],["lat",-23.55052],["long",-46.63331]],[["city","\u041a\u0430\u0438\u0440"],["lat",30.0626],["long",31.2497]],[["city","\u041c\u0443\u043c\u0431\u0430\u0438"],["lat",19.07598],["long",72.87766]],[["city","\u0414\u0430\u043a\u043a\u0430"],["lat",23.81033],["long",90.41252]],[["city","\u041e\u0441\u0430\u043a\u0430"],["lat",34.6812515],["long",135.5314026]],[["city","\u041a\u0430\u0440\u0430\u0447\u0438"],["lat",24.86146],["long",67.00994]],[["city","\u0421\u0442\u0430\u043c\u0431\u0443\u043b"],["lat",41.0138],["long",28.9497]],[["city","\u041c\u043e\u0441\u043a\u0432\u0430"],["lat",55.7522],["long",37.6156]]],he=[[["city","\u0423\u0444\u0430"],["lat",54.7431],["long",55.9678]],[["city","\u0428\u0430\u043d\u0445\u0430\u0439"],["lat",31.23042],["long",121.4737]],[["city","\u041c\u0435\u0445\u0438\u043a\u043e"],["lat",19.4285],["long",-99.1277]],[["city","\u0421\u0430\u043d-\u041f\u0430\u0443\u043b\u0443"],["lat",-23.55052],["long",-46.63331]],[["city","\u041a\u0430\u0438\u0440"],["lat",30.0626],["long",31.2497]],[["city","\u041c\u0443\u043c\u0431\u0430\u0438"],["lat",19.07598],["long",72.87766]],[["city","\u0414\u0430\u043a\u043a\u0430"],["lat",23.81033],["long",90.41252]],[["city","\u041e\u0441\u0430\u043a\u0430"],["lat",34.6812515],["long",135.5314026]],[["city","\u041a\u0430\u0440\u0430\u0447\u0438"],["lat",24.86146],["long",67.00994]],[["city","\u0421\u0442\u0430\u043c\u0431\u0443\u043b"],["lat",41.0138],["long",28.9497]],[["city","\u041c\u043e\u0441\u043a\u0432\u0430"],["lat",55.7522],["long",37.6156]]];function fe(){v(!1),ue(!1),oe(!1);var e=setInterval((function(){var e=Math.floor(Math.random()*he.length),t=Math.floor(Math.random()*me.length),a=Object.fromEntries(me[t]),n=Object.fromEntries(he[e]);D(n.city),T(a.city)}),60);setTimeout((function(){clearInterval(e),function(){v(!1),ue(!1),oe(!1);var e=Math.floor(Math.random()*he.length),t=Object.fromEntries(he[e]),a=Math.floor(Math.random()*me.length),n=Object.fromEntries(me[a]);D(t.city),T(n.city),r.a.send("VKWebAppGetGeodata").then((function(e){function a(e,t,a,n){var l=i(a-e),c=i(n-t),o=Math.sin(l/2)*Math.sin(l/2)+Math.cos(i(e))*Math.cos(i(a))*Math.sin(c/2)*Math.sin(c/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}function i(e){return e*(Math.PI/180)}function l(e,t,a,n){var l=i(a-e),c=i(n-t),o=Math.sin(l/2)*Math.sin(l/2)+Math.cos(i(e))*Math.cos(i(a))*Math.sin(c/2)*Math.sin(c/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}function i(e){return e*(Math.PI/180)}var c=100,o=4,r=setInterval((function(){+a(e.lat,e.long,t.lat,t.long).toFixed(0)<+l(e.lat,e.long,n.lat,n.long).toFixed(0)?(oe(!0),ue(!1)):(ue(!0),oe(!1)),N(c-=20),F("\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c "+o--+" \u0441\u0435\u043a"),console.log(j),!0===j&&setTimeout((function(){setTimeout((function(){clearInterval(r),F(""),N(100)}),0)}),0)}),1e3);setTimeout((function(){clearInterval(r),F(""),N(100),v(!1),Z(a(e.lat,e.long,t.lat,t.long).toFixed(0)+" \u043a\u043c"),U(l(e.lat,e.long,n.lat,n.long).toFixed(0)+" \u043a\u043c")}),5e3)})).catch((function(e){console.log(e)}))}()}),3e3)}return i.a.createElement(f.a,{isWebView:!0,scheme:d},i.a.createElement(m.a,{activePanel:a,history:u,onSwipeBack:h},i.a.createElement(k,{id:"Home",goToPage:function(e){window.history.pushState({panel:e},e),l(e),u.push(e)},startGame:fe,camelCase:b,scheme:d}),i.a.createElement(R,{id:"Play",startGame:fe,leftCityDictance:J,dictanceLeft:te,dictanceRight:ie,rightCityDictance:X,response:j,leftCity:I,rightCity:B,count:M,timer:z,userResponse:function(){v(!0),F(""),N(100)}}),i.a.createElement(G,{id:"Settings",camelCase:b,scheme:d}),i.a.createElement(W,{id:"Rating"}),i.a.createElement(K,{id:"Info"})))},H=a(48),L=a.n(H),J=a(33);r.a.send("VKWebAppInit",{});var U=document.getElementById("root");Object(J.b)()===J.a&&L()(U),c.a.render(i.a.createElement(D,null),U)}},[[132,1,2]]]);
//# sourceMappingURL=main.7033bbea.chunk.js.map